/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

ext.hadoopTarballUrl = 'https://www-us.apache.org/dist/hadoop/common/hadoop-3.2.0/hadoop-3.2.0.tar.gz'
ext.hadoopTarBallDir = './hadoop/'

repositories {
    ivy {
        url 'https://www-us.apache.org/dist'
        patternLayout {
	        artifact '[module]/[organization]/[module]-[revision]/[module]-[revision].[ext]' 
        }
        
    }
}

configurations {
    hadoopTarBall
}

dependencies {
	hadoopTarBall 'common:hadoop:3.2.0@tar.gz'
}


task resolveHadoopTarBall {
	configurations.hadoopTarBall.resolve()
}


task preapreHadoopTarball (type: Copy, dependsOn: [ resolveHadoopTarBall ]) {
	/* dependsOn configation(hadoopTarBall) */
	println 'The URL to download the Hadoop' + project.ext.hadoopTarballUrl
	println configurations.hadoopTarBall.getAllArtifacts()
	/*
	 each { 
	    println it
	} 
	*/


	from configurations.hadoopTarBall
	into project.ext.hadoopTarBallDir
}
